package s

import (
	"encoding/base64"
	"io"
	"strings"
)

func (h Di) Template() string {
	result := &strings.Builder{}
	if _, err := io.Copy(result, base64.NewDecoder(base64.StdEncoding, strings.NewReader("cGFja2FnZSBhdXRvCgovLyB7eyBGaWxlbmFtZSAiZ2VuIiB9fQppbXBvcnQgKAp7e3JhbmdlIC5HZXRJbXBvcnRzIH19ICB7ey59fQp7e2VuZH19KQoKdHlwZSBDb25maWcgc3RydWN0IHsKICAgIHt7cmFuZ2UgLkNvbmZpZ3MgfX0KICAgICAgICB7ey5Jbml0TmFtZX19IHt7Lk91dHB1dFR5cGVTdGFyfX17e2VuZH19Cn0KCmZ1bmMgTmV3Q29uZmlnKHByZWZpeCBzdHJpbmcsCgljb25maWd1cmF0b3IgKmNvbmZpZ3VyYXRvci5IYW5kbGVyLAopICpDb25maWcgewogICAgYyA6PSAmQ29uZmlnewoJe3tyYW5nZSAuQ29uZmlnc319CSAge3suSW5pdE5hbWV9fTogKHt7Lk91dHB1dFR5cGVTdGFyfX0pKHt7LkluaXRGdW5jfX0oKSksCnt7ZW5kfX0KICAgIH0KICAgIHt7cmFuZ2UgLkNvbmZpZ3N9fSAgICBjb25maWd1cmF0b3IuUmVnaXN0ZXIoY29uY2F0KHByZWZpeCwgInt7LkNvbmZpZ1BhdGh9fSIpLCAmYy57ey5Jbml0TmFtZX19KQogICAge3tlbmR9fQoJcmV0dXJuIGMKfQoKCnt7cmFuZ2UgLkNvbmZpZ3MgfX0KCnR5cGUge3suSW5pdE5hbWV9fSB7ey5PdXRwdXRUeXBlfX0KCmZ1bmMgR2V0e3suSW5pdE5hbWV9fShjIENvbmZpZykge3suSW5pdE5hbWV9fSB7CglyZXR1cm4ge3suSW5pdE5hbWV9fShjLnt7LkluaXROYW1lfX0pCn0Ke3tlbmR9fQoKCnR5cGUgQXBwQ29uZmlnIHN0cnVjdCB7Cgljb25maWd1cmF0b3IgKmNvbmZpZ3VyYXRvci5IYW5kbGVyCgljb25maWcgICAgICAgKkNvbmZpZwp9CgpmdW5jIE5ld0FwcENvbmZpZyhwcmVmaXggc3RyaW5nLCBjbWQgKmNvYnJhLkNvbW1hbmQpICpBcHBDb25maWcgewoJY29uZmlndXJhdG9yIDo9IGNvbmZpZ3VyYXRvci5OZXcoY21kKQoJcmV0dXJuICZBcHBDb25maWd7CgkJY29uZmlndXJhdG9yOiBjb25maWd1cmF0b3IsCgkJY29uZmlnOiAgICAgICBOZXdDb25maWcocHJlZml4LCBjb25maWd1cmF0b3IpLAoJfQp9CgpmdW5jIChjICpBcHBDb25maWcpIFJlYWQoYXBwICphcHAuQXBwbGljYXRpb25TZXR1cCwgY21kICpjb2JyYS5Db21tYW5kKSBlcnJvciB7CglyZXR1cm4gYy5jb25maWd1cmF0b3IuUmVhZChhcHAsIGNtZCkKfQoKZnVuYyAoYyAqQXBwQ29uZmlnKSBDb25maWd1cmF0b3IoKSAqY29uZmlndXJhdG9yLkhhbmRsZXIgewoJcmV0dXJuIGMuY29uZmlndXJhdG9yCn0KCmZ1bmMgKGMgKkFwcENvbmZpZykgUmVnaXN0ZXIocHJlZml4IHN0cmluZywgaW4gaW50ZXJmYWNle30pIHsKCWMuY29uZmlndXJhdG9yLlJlZ2lzdGVyKHByZWZpeCwgaW4pCn0KCmZ1bmMgKGMgKkFwcENvbmZpZykgQ29uZmlnQ29tbWFuZChhcHAgKmFwcC5BcHBsaWNhdGlvblNldHVwKSAqY29icmEuQ29tbWFuZCB7CglyZXR1cm4gYy5jb25maWd1cmF0b3IuQ29uZmlnQ29tbWFuZChhcHApCn0KCmZ1bmMgKGMgQXBwQ29uZmlnKSBDb25maWcoKSBDb25maWcgewoJcmV0dXJuICpjLmNvbmZpZwp9Cgp2YXIgQ29uZmlnU2V0ID0gd2lyZS5OZXdTZXQoCiAgICB7e3JhbmdlIC5Db25maWdzfX0gICBHZXR7ey5Jbml0TmFtZX19LAogICAge3tlbmR9fQopCgoKZnVuYyBjb25jYXQocGFydHMgLi4uc3RyaW5nKSBzdHJpbmcgewoJdmFyIHJlc3VsdCBbXXN0cmluZwoJZm9yIF8sIHBhcnQgOj0gcmFuZ2UgcGFydHMgewoJCXAgOj0gc3RyaW5ncy5UcmltUHJlZml4KHBhcnQsICI8IikKCQlpZiBzdHJpbmdzLkhhc1ByZWZpeChwYXJ0LCAiPCIpICYmIGxlbihyZXN1bHQpID4gMCB7CgkJCXJlc3VsdFtsZW4ocmVzdWx0KS0xXSA9IHAKCQl9IGVsc2UgewoJCQlyZXN1bHQgPSBhcHBlbmQocmVzdWx0LCBwKQoJCX0KCX0KCXJldHVybiBzdHJpbmdzLkpvaW4ocmVzdWx0LCAiLiIpCn0KCnZhciBTZXJ2aWNlU2V0ID0gd2lyZS5OZXdTZXQoCiAgICB7e3JhbmdlIC5TZXJ2aWNlc319ICAgR2V0e3suSW5pdE5hbWV9fSwKICAgIHt7ZW5kfX0KKQoKCnt7cmFuZ2UgLlNlcnZpY2VzIH19Cgp0eXBlIHt7LkluaXROYW1lfX0ge3suT3V0cHV0VHlwZX19CgpmdW5jIEdldHt7LkluaXROYW1lfX0oe3tyYW5nZSAuRGVwZW5kZW5jaWVzfX17ey5Jbml0TmFtZX19IHt7LlR5cGVTdGFyfX0sCiAgICAgICAge3tlbmR9fSkgKHt7LkluaXROYW1lU3Rhcn19e3tpZiAuSW5pdEZ1bmNXaXRoRXJyb3J9fSwgZXJyb3J7e2VuZH19KSB7Cgl7e2lmIC5Jbml0RnVuY1dpdGhFcnJvcn19Cgl2LCBlcnIgOj0ge3suSW5pdEZ1bmN9fSh7e3JhbmdlIC5EZXBlbmRlbmNpZXN9fSh7ey5Jbml0VHlwZVN0YXJ9fSkoe3suVHJhbnNmb3JtYXRpb25TdGFydH19IHt7LkluaXROYW1lfX0ge3suVHJhbnNmb3JtYXRpb25FbmR9fSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCXt7ZW5kfX0pCiAgIAlyZXR1cm4gKHt7LkluaXROYW1lU3Rhcn19KSh2KSwgZXJyCgl7e2Vsc2V9fQoJcmV0dXJuICh7ey5Jbml0TmFtZVN0YXJ9fSkoe3suSW5pdEZ1bmN9fSh7e3JhbmdlIC5EZXBlbmRlbmNpZXN9fSh7ey5Jbml0VHlwZVN0YXJ9fSkoe3suVHJhbnNmb3JtYXRpb25TdGFydH19IHt7LkluaXROYW1lfX0ge3suVHJhbnNmb3JtYXRpb25FbmR9fSksCgl7e2VuZH19KSkKCXt7ZW5kfX0KCgp9Cnt7ZW5kfX0KCgpmdW5jIE5ld0FwcGxpY2F0aW9uKAoJc3lzdGVtQXBwICphcHAuQXBwbGljYXRpb25TZXR1cCwKICAgIHt7cmFuZ2UgJGluZGV4LCAkZWxlbWVudCA6PSAuU2VydmljZXMgLX19CiAgICAJe3sgaWYgbmUgLkFwcEluamVjdCAiXyIgLX19CgkJe3suQXBwSW5qZWN0SW5kZXhlZH19e3sgJGluZGV4IH19IHt7LkluaXROYW1lU3Rhcn19LAoJCXt7IGVsc2UgLX19CgkJXyB7ey5Jbml0TmFtZVN0YXJ9fSwKCQl7eyBlbmQgLX19CiAgICB7e2VuZCAtfX0KKSAqQXBwIHsKCXJldHVybiAmQXBwewoJCWFwcDogICAgc3lzdGVtQXBwLAoJCXt7cmFuZ2UgJGluZGV4LCAkZWxlbWVudCA6PSAuU2VydmljZXMgLX19CgkJCXt7IGlmIG5lIC5BcHBJbmplY3QgIl8iIC19fQoJCQl7ey5BcHBJbmplY3R9fTogKHt7LkluaXRUeXBlU3Rhcn19KSh7eyAuQXBwSW5qZWN0SW5kZXhlZCB9fXt7ICRpbmRleCB9fSksCgkJCXt7ZW5kIC19fQogICAgCXt7ZW5kIC19fQoJfQp9Cgp0eXBlIEFwcCBzdHJ1Y3QgewoJYXBwICAgICphcHAuQXBwbGljYXRpb25TZXR1cAoJe3tyYW5nZSAuU2VydmljZXMgLX19CgkJe3sgaWYgbmUgLkFwcEluamVjdCAiXyIgLX19CgkJe3suQXBwSW5qZWN0fX0ge3suSW5pdFR5cGVTdGFyfX0KCQl7e2VuZCAtfX0KICAgIHt7ZW5kIC19fQp9Cgp7e3JhbmdlIC5TZXJ2aWNlcyAtfX0KCXt7IGlmIG5lIC5BcHBJbmplY3QgIl8iIC19fQpmdW5jIChoICpBcHApIEdldHt7IC5BcHBJbmplY3QgfCBGaXJzdFRvVXBwZXIgfX0oKSB7ey5Jbml0VHlwZVN0YXJ9fSB7CglyZXR1cm4gaC57eyAuQXBwSW5qZWN0IH19Cn0KCXt7ZW5kIC19fQp7e2VuZCAtfX0KCmZ1bmMgKGggKkFwcCkgUnVuKCkgZXJyb3IgewoJcmV0dXJuIGgucnVubmVyLlJ1bldpdGhTaWdUZXJtKGguYXBwLkNvbnRleHQsIGguYXBwLkNhbmNlbCkKfQoKe3tpZiBub3QgLlNraXBSdW5Db21tYW5kIH19CmZ1bmMgQ3JlYXRlQ29tbWFuZChhcHAgKmFwcC5BcHBsaWNhdGlvblNldHVwKSAqY29icmEuQ29tbWFuZCB7CgoJY21kIDo9ICZjb2JyYS5Db21tYW5kewoJCVVzZTogICB7e0dvVmFsdWUgLkNvbW1hbmR9fSwKCQlTaG9ydDoge3tHb1ZhbHVlIC5Db21tYW5kU2hvcnR9fSwKCQlMb25nOiAge3tHb1ZhbHVlIC5Db21tYW5kTG9uZ319LAoJfQoKCWNmZyA6PSBOZXdBcHBDb25maWcoe3tHb1ZhbHVlIC5Db25maWdQcmVmaXh9fSwgY21kKQoKCWNtZC5SdW5FID0gZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIGVycm9yIHsKCQlpZiBlcnIgOj0gY2ZnLlJlYWQoYXBwLCBjbWQpOyBlcnIgIT0gbmlsIHsKCQkJcmV0dXJuIGVycgoJCX0KCgkJYXBwbGljYXRpb24sIGVyciA6PSBDcmVhdGVBcHAoYXBwLCBjZmcuQ29uZmlnKCkpCgkJaWYgZXJyICE9IG5pbCB7CgkJCXBhbmljKGVycikKCQl9CgkJcmV0dXJuIGFwcGxpY2F0aW9uLlJ1bigpCgl9CgljbWQuQWRkQ29tbWFuZChjZmcuQ29uZmlnQ29tbWFuZChhcHApKQoKCXJldHVybiBjbWQKfQp7e2VuZH19"))); err != nil {
		panic(err)
	}
	return result.String()
}
